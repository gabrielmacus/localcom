(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"9nIV":function(t,e,c){"use strict";c.r(e);var s=c("mg/X"),n=(c("O8Zc"),c("6CUI")),l=c.n(n),a=(c("v1QU"),{peerOptions:{host:"gamac.tech",port:9e3,path:"/",config:{iceServers:[{url:"stun:stun01.sipphone.com"},{url:"stun:stun.ekiga.net"},{url:"stun:stun.fwdnet.net"},{url:"stun:stun.ideasip.com"},{url:"stun:stun.iptel.org"},{url:"stun:stun.rixtelecom.se"},{url:"stun:stun.schlund.de"},{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"},{url:"stun:stunserver.org"},{url:"stun:stun.softjoys.com"},{url:"stun:stun.voiparound.com"},{url:"stun:stun.voipbuster.com"},{url:"stun:stun.voipstunt.com"},{url:"stun:stun.voxgratia.org"},{url:"stun:stun.xten.com"},{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]}}}),o=c("Ve5K"),r=c("yMVk"),u=c("B1Ou"),b=(c("rBNI"),c("W6qR"));c("aAur");function i(t,e,c){const s=Object.create(t);return s.user=e[c],s}function O(t){var e,c;return{c(){e=Object(s.t)("div"),c=Object(s.t)("i"),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"I",{class:!0},!1),Object(s.k)(c).forEach(s.s),n.forEach(s.s),this.h()},h(){Object(s.f)(c,"class","icon-spinner svelte-17nf4lk"),Object(s.f)(e,"class","loading svelte-17nf4lk")},m(t,n){Object(s.A)(t,e,n),Object(s.d)(e,c)},d(t){t&&Object(s.s)(e)}}}function j(t){var e,c,n,l,a=t.user.username+"";return{c(){e=Object(s.t)("span"),c=Object(s.Q)("Bienvenido "),n=Object(s.t)("span"),l=Object(s.Q)(a),this.h()},l(t){e=Object(s.l)(t,"SPAN",{slot:!0},!1);var o=Object(s.k)(e);c=Object(s.n)(o,"Bienvenido "),n=Object(s.l)(o,"SPAN",{class:!0},!1);var r=Object(s.k)(n);l=Object(s.n)(r,a),r.forEach(s.s),o.forEach(s.s),this.h()},h(){Object(s.f)(n,"class","username"),Object(s.f)(e,"slot","title")},m(t,a){Object(s.A)(t,e,a),Object(s.d)(e,c),Object(s.d)(e,n),Object(s.d)(n,l)},p:s.E,d(t){t&&Object(s.s)(e)}}}function d(t){var e,c;return{c(){e=Object(s.t)("p"),c=Object(s.Q)("No hay usuarios conectados"),this.h()},l(t){e=Object(s.l)(t,"P",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.n)(n,"No hay usuarios conectados"),n.forEach(s.s),this.h()},h(){Object(s.f)(e,"class","no-users")},m(t,n){Object(s.A)(t,e,n),Object(s.d)(e,c)},p:s.E,i:s.E,o:s.E,d(t){t&&Object(s.s)(e)}}}function h(t){var e,c,n=[],l=new Map;let a=t.users;const o=t=>t.user;for(let e=0;e<a.length;e+=1){let c=i(t,a,e),s=o(c);l.set(s,n[e]=p(s,c))}return{c(){e=Object(s.t)("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var c=Object(s.k)(e);for(let t=0;t<n.length;t+=1)n[t].l(c);c.forEach(s.s),this.h()},h(){Object(s.f)(e,"class","user-list svelte-17nf4lk")},m(t,l){Object(s.A)(t,e,l);for(let t=0;t<n.length;t+=1)n[t].m(e,null);c=!0},p(t,c){const a=c.users;Object(s.y)(),n=Object(s.U)(n,t,o,1,c,a,l,e,s.I,p,null,i),Object(s.j)()},i(t){if(!c){for(let t=0;t<a.length;t+=1)Object(s.S)(n[t]);c=!0}},o(t){for(let t=0;t<n.length;t+=1)Object(s.T)(n[t]);c=!1},d(t){t&&Object(s.s)(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function f(t){var e;return{c(){e=Object(s.t)("i"),this.h()},l(t){e=Object(s.l)(t,"I",{class:!0},!1),Object(s.k)(e).forEach(s.s),this.h()},h(){Object(s.f)(e,"class","icon-mic")},m(t,c){Object(s.A)(t,e,c)},d(t){t&&Object(s.s)(e)}}}function p(t,e){var c,n,l,a,o,r,b,i,O,j,d=e.user+"",h=new u.a({props:{$$slots:{default:[f]},$$scope:{ctx:e}}});return h.$on("touchstart",e.talk.bind(e.user)),h.$on("mousedown",e.talk.bind(e.user)),h.$on("touchend",e.hang),h.$on("mouseup",e.hang),{key:t,first:null,c(){c=Object(s.t)("div"),n=Object(s.t)("span"),l=Object(s.Q)(d),a=Object(s.P)(),o=Object(s.t)("span"),h.$$.fragment.c(),r=Object(s.P)(),b=Object(s.t)("audio"),O=Object(s.P)(),this.h()},l(t){c=Object(s.l)(t,"DIV",{class:!0},!1);var e=Object(s.k)(c);n=Object(s.l)(e,"SPAN",{class:!0},!1);var u=Object(s.k)(n);l=Object(s.n)(u,d),u.forEach(s.s),a=Object(s.m)(e),o=Object(s.l)(e,"SPAN",{class:!0},!1);var i=Object(s.k)(o);h.$$.fragment.l(i),r=Object(s.m)(i),b=Object(s.l)(i,"AUDIO",{"data-audio":!0,autoplay:!0,hidden:!0},!1),Object(s.k)(b).forEach(s.s),i.forEach(s.s),O=Object(s.m)(e),e.forEach(s.s),this.h()},h(){Object(s.f)(n,"class","username svelte-17nf4lk"),Object(s.f)(b,"data-audio",i=e.user),b.autoplay=!0,b.hidden=!0,Object(s.f)(o,"class","actions svelte-17nf4lk"),Object(s.f)(c,"class","user svelte-17nf4lk"),Object(s.R)(c,"calling",e.status==`calling:${e.user}`),Object(s.R)(c,"user-talking",e.status==`user-talking:${e.user}`),Object(s.R)(c,"talking",e.status==`talking:${e.user}`),this.first=c},m(t,e){Object(s.A)(t,c,e),Object(s.d)(c,n),Object(s.d)(n,l),Object(s.d)(c,a),Object(s.d)(c,o),Object(s.D)(h,o,null),Object(s.d)(o,r),Object(s.d)(o,b),Object(s.d)(c,O),j=!0},p(t,e){j&&!t.users||d===(d=e.user+"")||Object(s.N)(l,d);var n={};t.$$scope&&(n.$$scope={changed:t,ctx:e}),h.$set(n),j&&!t.users||i===(i=e.user)||Object(s.f)(b,"data-audio",i),(t.status||t.users)&&(Object(s.R)(c,"calling",e.status==`calling:${e.user}`),Object(s.R)(c,"user-talking",e.status==`user-talking:${e.user}`),Object(s.R)(c,"talking",e.status==`talking:${e.user}`))},i(t){j||(Object(s.S)(h.$$.fragment,t),j=!0)},o(t){Object(s.T)(h.$$.fragment,t),j=!1},d(t){t&&Object(s.s)(c),Object(s.r)(h)}}}function g(t){var e,c,n,l,a,o,r,u,b,i="connecting"==t.status&&O(),j=[h,d],f=[];function p(t,e){return e.users.length>0?0:1}return r=p(0,t),u=f[r]=j[r](t),{c(){i&&i.c(),e=Object(s.P)(),c=Object(s.P)(),n=Object(s.t)("div"),l=Object(s.t)("h3"),a=Object(s.Q)("Usuarios conectados"),o=Object(s.P)(),u.c(),this.h()},l(t){i&&i.l(t),e=Object(s.m)(t),c=Object(s.m)(t),n=Object(s.l)(t,"DIV",{class:!0},!1);var r=Object(s.k)(n);l=Object(s.l)(r,"H3",{class:!0},!1);var b=Object(s.k)(l);a=Object(s.n)(b,"Usuarios conectados"),b.forEach(s.s),o=Object(s.m)(r),u.l(r),r.forEach(s.s),this.h()},h(){Object(s.f)(l,"class","svelte-17nf4lk"),Object(s.f)(n,"class","container svelte-17nf4lk")},m(t,u){i&&i.m(t,u),Object(s.A)(t,e,u),Object(s.A)(t,c,u),Object(s.A)(t,n,u),Object(s.d)(n,l),Object(s.d)(l,a),Object(s.d)(n,o),f[r].m(n,null),b=!0},p(t,c){"connecting"==c.status?i||((i=O()).c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);var l=r;(r=p(0,c))===l?f[r].p(t,c):(Object(s.y)(),Object(s.T)(f[l],1,1,()=>{f[l]=null}),Object(s.j)(),(u=f[r])||(u=f[r]=j[r](c)).c(),Object(s.S)(u,1),u.m(n,null))},i(t){b||(Object(s.S)(u),b=!0)},o(t){Object(s.T)(u),b=!1},d(t){i&&i.d(t),t&&(Object(s.s)(e),Object(s.s)(c),Object(s.s)(n)),f[r].d()}}}function v(t){var e,c=new r.a({props:{$$slots:{default:[g],title:[j]},$$scope:{ctx:t}}});return{c(){c.$$.fragment.c()},l(t){c.$$.fragment.l(t)},m(t,n){Object(s.D)(c,t,n),e=!0},p(t,e){var s={};(t.$$scope||t.users||t.status)&&(s.$$scope={changed:t,ctx:e}),c.$set(s)},i(t){e||(Object(s.S)(c.$$.fragment,t),e=!0)},o(t){Object(s.T)(c.$$.fragment,t),e=!1},d(t){Object(s.r)(c,t)}}}function m(t,e,c){const{popupNotification:s}=Object(b.a)("layout");let n,r,u,i=Object(o.a)(),O=[],j="connecting",d=new l.a(i.username,a.peerOptions);function h(){"disconnected"!=j&&d.listAllPeers(t=>{console.log(t),c("users",O=t.filter(t=>t!=i.username))})}return Object(b.c)(()=>{navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(t=>{u=t}).catch(t=>{s("Debe aceptar compartir su micrófono","error",3e3),Object(o.a)(!1),router.route("/login")})}),Object(b.b)(()=>{r&&clearInterval(r)}),d.on("open",t=>{c("status",j="connected"),h(),r=setInterval(h,1500)}),d.on("call",t=>{t.answer(u),c("status",j=`user-talking:${t.peer}`),t.on("stream",e=>{document.querySelector(`[data-audio='${t.peer}']`).srcObject=e}),t.on("close",()=>{c("status",j="connected")})}),d.on("error",t=>{let e;switch(t.type){case"server-error":case"disconnected":case"network":case"invalid-id":case"unavailable-id":e="invalid-id"==t.type?"Nombre de usuario no válido":"unavailable-id"==t.type?"Nombre de usuario no disponible":"Error en la conexión. Inténtelo de nuevo o contacte un administrador",Object(o.a)(!1),router.route("/login")}e&&s(e,"error",3e3)}),{user:i,users:O,status:j,talk:function(){let t=this;n=d.call(t,u),c("status",j=`calling:${t}`);let e=setInterval(()=>{n.open&&(c("status",j=`talking:${t}`),clearInterval(e))},10);n.on("close",()=>{c("status",j="connected"),clearInterval(e)})},hang:function(){c("status",j="connected"),n&&n.close()}}}e.default=class extends s.a{constructor(t){super(),Object(s.z)(this,t,m,v,s.L,[])}}},ARAt:function(t,e,c){},B1Ou:function(t,e,c){"use strict";var s=c("mg/X");c("lLAs");function n(t){var e;const c=t.$$slots.default,n=Object(s.q)(c,t,null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,c){n&&n.m(t,c),e=!0},p(t,e){n&&n.p&&t.$$scope&&n.p(Object(s.w)(c,e,t,null),Object(s.x)(c,e,null))},i(t){e||(Object(s.S)(n,t),e=!0)},o(t){Object(s.T)(n,t),e=!1},d(t){n&&n.d(t)}}}function l(t){var e;function c(t,e){return e.loadingContent?o:a}var n=c(0,t),l=n(t);return{c(){l.c(),e=Object(s.u)()},l(t){l.l(t),e=Object(s.u)()},m(t,c){l.m(t,c),Object(s.A)(t,e,c)},p(t,s){n===(n=c(0,s))&&l?l.p(t,s):(l.d(1),(l=n(s))&&(l.c(),l.m(e.parentNode,e)))},i:s.E,o:s.E,d(t){l.d(t),t&&Object(s.s)(e)}}}function a(t){var e,c;return{c(){e=Object(s.t)("div"),c=Object(s.t)("span"),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"SPAN",{class:!0},!1),Object(s.k)(c).forEach(s.s),n.forEach(s.s),this.h()},h(){Object(s.f)(c,"class","icon-loading icon-spinner svelte-1oke8fd"),Object(s.f)(e,"class","loading svelte-1oke8fd")},m(t,n){Object(s.A)(t,e,n),Object(s.d)(e,c)},p:s.E,d(t){t&&Object(s.s)(e)}}}function o(t){var e;return{c(){e=Object(s.t)("div"),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1),Object(s.k)(e).forEach(s.s),this.h()},h(){Object(s.f)(e,"class","loading svelte-1oke8fd")},m(c,n){Object(s.A)(c,e,n),e.innerHTML=t.loadingContent},p(t,c){t.loadingContent&&(e.innerHTML=c.loadingContent)},d(t){t&&Object(s.s)(e)}}}function r(t){var e,c,a,o,r,u,b,i,O=[l,n],j=[];function d(t,e){return e.loading?0:1}return a=d(0,t),o=j[a]=O[a](t),{c(){e=Object(s.t)("div"),c=Object(s.t)("button"),o.c(),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"BUTTON",{class:!0,disabled:!0,type:!0},!1);var l=Object(s.k)(c);o.l(l),l.forEach(s.s),n.forEach(s.s),this.h()},h(){Object(s.f)(c,"class",r=Object(s.F)(`style-${t.style}`)+" svelte-1oke8fd"),c.disabled=u=t.loading||t.disabled,Object(s.f)(c,"type",t.type),Object(s.R)(c,"pressed",t.pressed),Object(s.R)(c,"loading",t.loading),Object(s.f)(e,"class","button svelte-1oke8fd"),i=[Object(s.C)(c,"mousedown",t.mousedown_handler),Object(s.C)(c,"mouseup",t.mouseup_handler),Object(s.C)(c,"touchstart",t.touchstart_handler),Object(s.C)(c,"touchend",t.touchend_handler),Object(s.C)(c,"click",t.click_handler),Object(s.C)(c,"dblclick",t.dblclick_handler)]},m(t,n){Object(s.A)(t,e,n),Object(s.d)(e,c),j[a].m(c,null),b=!0},p(t,e){var n=a;(a=d(0,e))===n?j[a].p(t,e):(Object(s.y)(),Object(s.T)(j[n],1,1,()=>{j[n]=null}),Object(s.j)(),(o=j[a])||(o=j[a]=O[a](e)).c(),Object(s.S)(o,1),o.m(c,null)),b&&!t.style||r===(r=Object(s.F)(`style-${e.style}`)+" svelte-1oke8fd")||Object(s.f)(c,"class",r),b&&!t.loading&&!t.disabled||u===(u=e.loading||e.disabled)||(c.disabled=u),b&&!t.type||Object(s.f)(c,"type",e.type),(t.style||t.pressed)&&Object(s.R)(c,"pressed",e.pressed),(t.style||t.loading)&&Object(s.R)(c,"loading",e.loading)},i(t){b||(Object(s.S)(o),b=!0)},o(t){Object(s.T)(o),b=!1},d(t){t&&Object(s.s)(e),j[a].d(),Object(s.K)(i)}}}function u(t,e,c){let{type:n="button",loadingContent:l,loading:a=!1,disabled:o=!1,pressed:r=!1,style:u=1,className:b}=e,{$$slots:i={},$$scope:O}=e;return t.$set=t=>{"type"in t&&c("type",n=t.type),"loadingContent"in t&&c("loadingContent",l=t.loadingContent),"loading"in t&&c("loading",a=t.loading),"disabled"in t&&c("disabled",o=t.disabled),"pressed"in t&&c("pressed",r=t.pressed),"style"in t&&c("style",u=t.style),"className"in t&&c("className",b=t.className),"$$scope"in t&&c("$$scope",O=t.$$scope)},{type:n,loadingContent:l,loading:a,disabled:o,pressed:r,style:u,className:b,mousedown_handler:function(e){Object(s.i)(t,e)},mouseup_handler:function(e){Object(s.i)(t,e)},touchstart_handler:function(e){Object(s.i)(t,e)},touchend_handler:function(e){Object(s.i)(t,e)},click_handler:function(e){Object(s.i)(t,e)},dblclick_handler:function(e){Object(s.i)(t,e)},$$slots:i,$$scope:O}}e.a=class extends s.a{constructor(t){super(),Object(s.z)(this,t,u,r,s.L,["type","loadingContent","loading","disabled","pressed","style","className"])}}},EAKa:function(t,e){function c(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}c.keys=function(){return[]},c.resolve=c,t.exports=c,c.id="EAKa"},aAur:function(t,e,c){},lLAs:function(t,e,c){},yMVk:function(t,e,c){"use strict";var s=c("mg/X");c("ARAt");const n=()=>({}),l=()=>({});function a(t){var e,c,a,o,r,u;const b=t.$$slots.title,i=Object(s.q)(b,t,l),O=t.$$slots.default,j=Object(s.q)(O,t,null);return{c(){e=Object(s.t)("div"),c=Object(s.t)("header"),a=Object(s.t)("h2"),i&&i.c(),o=Object(s.P)(),r=Object(s.t)("div"),j&&j.c(),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"HEADER",{class:!0},!1);var l=Object(s.k)(c);a=Object(s.l)(l,"H2",{class:!0},!1);var u=Object(s.k)(a);i&&i.l(u),u.forEach(s.s),l.forEach(s.s),o=Object(s.m)(n),r=Object(s.l)(n,"DIV",{class:!0},!1);var b=Object(s.k)(r);j&&j.l(b),b.forEach(s.s),n.forEach(s.s),this.h()},h(){Object(s.f)(a,"class","svelte-1vqgb5b"),Object(s.f)(c,"class","svelte-1vqgb5b"),Object(s.f)(r,"class","content svelte-1vqgb5b"),Object(s.f)(e,"class","container svelte-1vqgb5b")},m(t,n){Object(s.A)(t,e,n),Object(s.d)(e,c),Object(s.d)(c,a),i&&i.m(a,null),Object(s.d)(e,o),Object(s.d)(e,r),j&&j.m(r,null),u=!0},p(t,e){i&&i.p&&t.$$scope&&i.p(Object(s.w)(b,e,t,n),Object(s.x)(b,e,l)),j&&j.p&&t.$$scope&&j.p(Object(s.w)(O,e,t,null),Object(s.x)(O,e,null))},i(t){u||(Object(s.S)(i,t),Object(s.S)(j,t),u=!0)},o(t){Object(s.T)(i,t),Object(s.T)(j,t),u=!1},d(t){t&&Object(s.s)(e),i&&i.d(t),j&&j.d(t)}}}function o(t,e,c){let{$$slots:s={},$$scope:n}=e;return t.$set=t=>{"$$scope"in t&&c("$$scope",n=t.$$scope)},{$$slots:s,$$scope:n}}e.a=class extends s.a{constructor(t){super(),Object(s.z)(this,t,o,a,s.L,[])}}}}]);
//# sourceMappingURL=2.chunk.efcb9.js.map